<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="content-type" content="text/html" charset="utf-8"/>
    <script type="text/javascript" src="./js/jquery.js"></script>
    <link rel="stylesheet" href="css/base.css"/>
    <title></title>
    <style type="text/css">
    .box{
        width:100%;
        height: 500px;
        border-top: 1px solid black;
    }
    .box1{
        width: 100%;
        height: 300px;
        border-top: 1px solid black;
    }
    </style>
    <script type="text/javascript">
    $(function(){
        $.fn.scrollDiff = function(fun) {
            var that = this;
            var dir = 0;
            $(document).on("scroll",function(){
                var exec,
                    item = null,//当前元素
                    documentScroll = $(this).scrollTop();
                that.each(function(index, val) {
                    var itemScrollTop = $(this).offset().top;
                    if ((itemScrollTop - documentScroll) < 0) {
                        if (dir < documentScroll) {
                            exec = $(this).data('scroll-down');
                        } else {
                            exec = $(this).data('scroll-up');
                        };
                        item = $(this);

                    };
                });
                if (fun[exec]) {
                    fun[exec](item);
                };
                dir = documentScroll;
            });
        }
    })
    </script>
</head>
<body>
<div class="box scroll-item" data-scroll-down='down1' data-scroll-up='down1'></div>
<div class="box1 scroll-item" data-scroll-down='down2' data-scroll-up='down2'></div>
<div class="box scroll-item" data-scroll-down='down3' data-scroll-up='down3'></div>
<div class="box1 scroll-item" data-scroll-down='down4' data-scroll-up='down4'></div>
<div class="box scroll-item" data-scroll-down='down5' data-scroll-up='down5'></div>
<div class="box1 scroll-item" data-scroll-down='down6' data-scroll-up='down6'></div>
</body>
</html>
<script type="text/javascript">
$(function(){
    $('.scroll-item').scrollDiff({
        down1:function(item){
            $('.scroll-item').css("background-color",'black');
            $(item).css("background-color",'red');
            console.log('tag','down1');
        },
        down2:function(item){
            $('.scroll-item').css("background-color",'black');

            $(item).css("background-color",'red');
            console.log('tag','down2');
        },
        down3:function(item){
            $('.scroll-item').css("background-color",'black');
            $(item).css("background-color",'red');
            console.log('tag','down3');
        }
    });
})
</script>